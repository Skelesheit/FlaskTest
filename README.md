
# Flask Project

Этот проект представляет собой приложение на Flask, которое можно запустить как с помощью Poetry, так и через Docker.

## Требования

- Python 3.12+
- Poetry (если используете Poetry)
- Docker (если используете Docker)

## Установка

### 1. Установка через Poetry

1. Убедитесь, что у вас установлен [Poetry](https://python-poetry.org/docs/#installation).
2. Клонируйте репозиторий и перейдите в директорию проекта:
   ```bash
   git clone <URL_репозитория>
   cd <папка_проекта>
   ```
3. Установите зависимости:
   ```bash
   poetry install
   ```
4. Запустите приложение с помощью Poetry:
   ```bash
   poetry run flask run
   ```

   Приложение будет доступно по адресу `http://127.0.0.1:5000/`.

### 2. Установка через Docker

1. Клонируйте репозиторий и перейдите в директорию проекта:
   ```bash
   git clone <URL_репозитория>
   cd <папка_проекта>
   ```
2. Запустите контейнеры с помощью `docker-compose`:
   ```bash
   docker-compose up --build
   ```
3. Приложение будет доступно по адресу `http://127.0.0.1:5000/`.

## Эндпоинты

### 1. `/dadata/suggest/{inn}`

- **Метод**: `GET`
- **Описание**: Запрос по ИНН данных о юр. лице или ИП

### 2. `/user/register`

- **Метод**: `POST`
- **Описание**: Регистрирует нового пользователя.
- **Параметры**:
  - `email`: Электронная почта пользователя.
  - `password`: Пароль пользователя.
  - `captchaToken`: токен капчи от Яндекса
- **Пример запроса**:
  ```json
  {
    "email": "user@example.com",
    "password": "securepassword",
    "captchaToken": "string"
  
  }
  ```

### 3. `/user/login`

- **Метод**: `POST`
- **Описание**: Логин пользователя.
- **Параметры**:
  - `email`: Электронная почта пользователя.
  - `password`: Пароль пользователя.
- **Пример запроса**:
  ```json
  {
    "email": "user@example.com",
    "password": "securepassword"
  }
  ```
### 4. `/user/fill-data`

- **Метод**: `POST`
- **Описание**: Заполнение данных пользователя.
- **Параметры**: Зависит от модели пользователя (требуется авторизация).

### 5. `/auth/me`

- **Метод**: `GET`
- **Описание**: Получить информацию о текущем пользователе (требуется авторизация).

### 6. `/auth/logout`

- **Метод**: `GET`
- **Описание**: Получить информацию о текущем пользователе (требуется авторизация).


## Настройка базы данных

Если вы хотите настроить и применить миграции Alembic, используйте следующую команду:

1. Для запуска миграций через Docker:
   ```bash
   docker exec -it <container_name> bash
   poetry run alembic upgrade head
   ```

2. Для запуска миграций через Poetry:
   ```bash
   poetry run alembic upgrade head
   ```

## Заключение

Этот проект настроен для использования как с Poetry, так и с Docker. Вы можете выбрать любой из методов для локальной разработки. Все эндпоинты доступны после того, как приложение запущено. Если у вас возникнут проблемы, не стесняйтесь обращаться к разработчикам.
